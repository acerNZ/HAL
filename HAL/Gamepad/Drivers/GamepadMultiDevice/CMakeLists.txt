set( CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_MODULE_PATH} )

find_package( IOKit QUIET )
find_package( CoreFoundation QUIET)

set( BUILD_Gamepad false CACHE BOOL force)

if( COREFOUNDATION_FOUND AND IOKIT_FOUND)
		set( GSDK_CPP GSDK/EventDispatcher.cpp )
		set( GSDK_H GSDK/EventDispatcher.h GSDK/Gamepad.h )
		if(UNIX)
				if(APPLE)
						set( GSDK_CPP ${GSDK_CPP} GSDK/Gamepad_macosx.cpp )
				else()
						set( GSDK_CPP ${GSDK_CPP} GSDK/Gamepad_linux.cpp )
				endif()
		endif()
		add_to_hal_sources( GamepadMultiDeviceDriver.h ${GSDK_H} GamepadMultiDeviceDriver.cpp GamepadMultiDeviceFactory.cpp ${GSDK_CPP} )
		add_to_hal_libraries(${IOKit_LIBRARIES}	${COREFOUNDATION_LIBRARY})
endif()
