set( CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_MODULE_PATH} )

find_package( PCAN QUIET )

if( PCAN_FOUND )
    set( BUILD_PCAN false CACHE BOOL force )
    if( BUILD_PCAN )
        if(EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/LexusISF2012.h")
            add_definitions(-DHAVE_LEXUSISF12)
            message(STATUS "Found LexusISF2012.h in ${CMAKE_CURRENT_SOURCE_DIR}")
            add_to_hal_sources( LexusISF2012.h )
            add_to_hal_include_dirs( ${PCAN_INCLUDE_DIRS} )
            add_to_hal_sources( PCANEncoderDriver.h PCANEncoderDriver.cpp PCANEncoderFactory.cpp PCANListener.h)
        else()
            message(STATUS "Can't find LexusISF2012.h in ${CMAKE_CURRENT_SOURCE_DIR}")
        endif()
#        add_to_hal_include_dirs( ${PCAN_INCLUDE_DIRS} )
#        add_to_hal_sources( PCANEncoderDriver.h PCANEncoderDriver.cpp PCANEncoderFactory.cpp PCANListener.h)
    endif()
endif()
